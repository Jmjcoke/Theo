---
### **DOCUMENT 3: `fullstack-architecture.md`**
---
```markdown
# Theo Fullstack Architecture Document

### **Introduction**
This document outlines the complete fullstack architecture for the "Theo" application.
* **Starter Template or Existing Project:** The frontend is based on an initial structure generated by **Lovable.ai**. The backend will be built from scratch.
* **Change Log:** v1.0 - Initial draft.

### **High Level Architecture**
* **Technical Summary:** A fullstack monorepo application using a React/Vite frontend and a FastAPI/Python backend, deployed on DigitalOcean. The backend uses the modular PocketFlow pattern for AI workflows, leveraging Supabase for its vector database and Celery/Redis for background jobs.
* **Platform and Infrastructure Choice:** DigitalOcean (Droplets, Managed Redis, Spaces).
* **Repository Structure:** Monorepo using `npm workspaces`.
* **High Level Architecture Diagram:**
```mermaid
graph TD
    subgraph User Browser; A[React Frontend]; end
    subgraph DigitalOcean; B[FastAPI Backend]; C[Celery Worker]; D[Redis Queue]; E[SQLite Database]; F[File Storage (Spaces)]; end
    subgraph External Services; G[OpenAI API]; H[Supabase (Vector DB)]; end
    A -- REST API --> B; B -- Queues Job --> D; C -- Takes Job --> D; B -- Stores/Reads Metadata --> E; B -- Stores File --> F; C -- Reads File --> F; C -- Generates Embeddings --> G; C -- Generates Text --> G; C -- Stores/Queries Vectors --> H;
```

### **Coding Standards**

**Note:** This section serves as the single, definitive source for all coding standards and naming conventions, fulfilling the PRD requirement for a "Naming Convention" document.

#### **Naming Conventions**

**File and Directory Naming:**
- Use kebab-case for directories: `user-management`, `document-processing`
- Use PascalCase for React components: `UserDashboard.tsx`, `DocumentTable.tsx`
- Use camelCase for utility files: `apiClient.ts`, `dateUtils.ts`

**Variable and Function Naming:**
- Use camelCase for variables and functions: `userId`, `processingStatus`, `handleSubmit`
- Use PascalCase for types and interfaces: `User`, `DocumentMetadata`, `ProcessingResult`
- Use SCREAMING_SNAKE_CASE for constants: `MAX_FILE_SIZE`, `API_BASE_URL`

**Database Naming:**
- Use snake_case for table names: `users`, `document_metadata`, `processing_jobs`
- Use snake_case for column names: `user_id`, `created_at`, `processing_status`

**API Naming:**
- Use kebab-case for endpoints: `/api/user-management`, `/api/document-upload`
- Use camelCase for JSON keys: `userId`, `createdAt`, `processingStatus`
